<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Set the base for rewrites to /cosmos/
    RewriteBase /cosmos/

    # CRITICAL: Exclude openapi.json from being routed to index.php
    # This ensures the static file is served directly by the web server.
    RewriteRule ^openapi\.json$ - [L]

    # Do not rewrite if the request is for a physical file or directory
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # Route all other non-existent paths to index.php
    RewriteRule ^ index.php [QSA,L]
</IfModule>
