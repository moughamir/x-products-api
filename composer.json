{
  "name": "moritotabi/cosmos-api",
  "description": "A RESTful API for Shopify products.",
  "type": "project",
  "license": "MIT",
  "authors": [
    {
      "name": "Mori",
      "email": "mori@untitled.com"
    }
  ],
  "version": "1.0.0",
  "require": {
    "ext-pdo_sqlite": "*",
    "guzzlehttp/guzzle": "^7.10",
    "nyholm/psr7-server": "^1.1",
    "nyholm/psr7": "^1.8",
    "php-di/php-di": "^7.1",
    "salsify/json-streaming-parser": "^8.3",
    "slim/slim": "^4.15",
    "slim/twig-view": "^3.3",
    "zircote/swagger-php": "^4.8"
  },
  "autoload": {
    "psr-4": {
      "App\\": "src/"
    }
  },
  "scripts": {
    "post-update-cmd": [
      "@build"
    ],
    "post-install-cmd": [
      "@build"
    ],
    "post-autoload-dump": [
      "@app:clear-cache"
    ],
    "build": [
      "@app:clear-cache",
      "@docs:generate",
      "@db:setup"
    ],
    "docs:generate": "php bin/generate-openapi.php --output openapi.json src/OpenApi.php src/Controllers/",
    "db:setup": "php bin/tackle.php --skip-if-exists",
    "db:rebuild": "php bin/tackle.php --force",
    "app:clear-cache": "php clear_opcache.php"
  },
  "scripts-descriptions": {
    "build": "Run full build process (cache clear, docs generation, database setup)",
    "docs:generate": "Generate OpenAPI documentation from PHP annotations",
    "db:setup": "Setup database with products (skips if already populated)",
    "db:rebuild": "Force rebuild database (WARNING: deletes all data)",
    "app:clear-cache": "Clear PHP opcache"
  }
}
